<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ğŸ¦‘ ã‚¤ã‚«ã‚²ãƒ¼ãƒ  Squid Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:system-ui, sans-serif;
  text-align:center;
  padding:20px;
  background:
    radial-gradient(circle at 20% 20%, #ffecec 0%, transparent 40%),
    radial-gradient(circle at 80% 30%, #e8fff1 0%, transparent 40%),
    linear-gradient(180deg, #fff, #f2f2f2);
}

h1{ font-size:26px; margin-bottom:6px; }
.sub{ font-size:14px; color:#666; margin-bottom:20px; }

.field{
  width:280px;
  height:120px;
  border:4px solid #333;
  border-radius:14px;
  margin:20px auto;
  position:relative;
  background:#fff;
}

.player{
  width:30px;
  height:30px;
  border-radius:50%;
  background:#ff5a5a;
  position:absolute;
  left:0;
  top:45px;
  transition:left 0.15s linear;
}

.goal{
  position:absolute;
  right:0;
  top:0;
  width:6px;
  height:100%;
  background:#4caf50;
}

.light{
  font-size:24px;
  font-weight:bold;
  margin:14px 0;
}
.green{ color:#2e7d32; }
.red{ color:#c62828; }

button{
  padding:14px 22px;
  font-size:16px;
  border:none;
  border-radius:14px;
  margin:6px;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}

#tapBtn:active{ transform:scale(0.95); }

.result{
  font-size:20px;
  margin-top:14px;
  min-height:1.5em;
}
.success{ color:#2e7d32; font-weight:bold; }
.fail{ color:#c62828; font-weight:bold; }

.back{ display:block; margin-top:14px; }
</style>
</head>

<body>

<h1>ğŸ¦‘ ã‚¤ã‚«ã‚²ãƒ¼ãƒ </h1>
<div class="sub">Squid Game â€“ Red Light, Green Light</div>

<div class="field">
  <div class="goal"></div>
  <div id="player" class="player"></div>
</div>

<div id="light" class="light green">ğŸŸ¢ GREEN LIGHT</div>

<button id="tapBtn">TAP / é€²ã‚€</button><br>
<button id="resetBtn">START / RESET</button>

<div id="result" class="result"></div>

<a href="index.html" class="back">â† BACK</a>

<script>
let pos = 0;
let state = "green";
let timer = null;
let finished = false;

const player = document.getElementById("player");
const light = document.getElementById("light");
const result = document.getElementById("result");
const tapBtn = document.getElementById("tapBtn");
const resetBtn = document.getElementById("resetBtn");

function startLight(){
  timer = setInterval(()=>{
    if(finished) return;
    state = Math.random() > 0.5 ? "green" : "red";
    if(state === "green"){
      light.textContent = "ğŸŸ¢ GREEN LIGHT";
      light.className = "light green";
    }else{
      light.textContent = "ğŸ”´ RED LIGHT";
      light.className = "light red";
    }
  }, 1200);
}

function move(){
  if(finished) return;

  if(state === "red"){
    finish(false);
    return;
  }

  pos += 18;
  player.style.left = pos + "px";

  if(pos >= 250){
    finish(true);
  }
}

function finish(success){
  finished = true;
  clearInterval(timer);

  if(success){
    result.textContent = "ğŸ‰ SUCCESS! / æˆåŠŸ";
    result.className = "result success";
  }else{
    result.textContent = "ğŸ’¥ FAILED! / å¤±æ•—";
    result.className = "result fail";
  }
}

function resetGame(){
  clearInterval(timer);
  pos = 0;
  finished = false;
  state = "green";
  player.style.left = "0px";
  result.textContent = "";
  light.textContent = "ğŸŸ¢ GREEN LIGHT";
  light.className = "light green";
  startLight();
}

/* ğŸ”‘ iOSã§ã‚‚ç¢ºå®Ÿã«å‹•ãã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ² */
tapBtn.addEventListener("click", move);
resetBtn.addEventListener("click", resetGame);

/* start */
startLight();
</script>

</body>
</html>
