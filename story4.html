<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Story 4 - The First Promise</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: system-ui, sans-serif;
  padding:20px;
  background:linear-gradient(180deg,#f0fbff,#fff6fb);
}

a{
  text-decoration:none;
  color:#333;
  font-size:14px;
}

h1{
  text-align:center;
  margin-bottom:4px;
}

.sub{
  text-align:center;
  color:#666;
  margin-bottom:20px;
}

.story{
  max-width:420px;
  margin:auto;
}

.sentence{
  padding:12px;
  margin:8px 0;
  background:white;
  border-radius:14px;
  box-shadow:0 3px 8px rgba(0,0,0,.15);
  cursor:pointer;
  line-height:1.5;
}

.controls{
  text-align:center;
  margin:20px 0;
}

button{
  padding:10px 18px;
  font-size:16px;
  border:none;
  border-radius:14px;
  background:#fff;
  box-shadow:0 3px 8px rgba(0,0,0,.2);
}
</style>
</head>

<body>

<a href="index.html">â† Back</a>

<h1>ğŸ“– Story 4</h1>
<div class="sub">The First Promise</div>

<div class="controls">
  <button onclick="readAll()">ğŸ”Š Read All</button>
</div>

<div class="story" id="story">
  <div class="sentence">A gentle spirit appeared from the light.</div>
  <div class="sentence">It looked like a small fox made of air.</div>
  <div class="sentence">The spirit bowed politely.</div>
  <div class="sentence">â€œThank you for your kindness,â€ it said.</div>
  <div class="sentence">The spirit warned of stronger demons ahead.</div>
  <div class="sentence">The child felt scared but nodded.</div>
  <div class="sentence">â€œI will help,â€ the child whispered.</div>
  <div class="sentence">The glowing stone shined brighter.</div>
  <div class="sentence">A promise was formed in silence.</div>
  <div class="sentence">The journey continued forward.</div>
</div>

<script>
const sentences = document.querySelectorAll(".sentence");

sentences.forEach(s=>{
  s.onclick = ()=> speak(s.textContent);
});

function speak(text){
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  u.rate = 0.7;   // ã‚†ã£ãã‚Š
  u.pitch = 1.3;  // ã‚„ã•ã—ãå¯æ„›ã‚‰ã—ã„
  speechSynthesis.speak(u);
}

function readAll(){
  speechSynthesis.cancel();
  let i = 0;

  function next(){
    if(i >= sentences.length) return;
    const u = new SpeechSynthesisUtterance(sentences[i].textContent);
    u.lang = "en-US";
    u.rate = 0.7;
    u.pitch = 1.3;
    u.onend = ()=>{
      i++;
      next();
    };
    speechSynthesis.speak(u);
  }

  next();
}
</script>

</body>
</html>
