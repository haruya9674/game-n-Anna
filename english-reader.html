<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>English Reader</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:system-ui,sans-serif;
  padding:20px;
  background:linear-gradient(180deg,#fff6fb,#f0fbff);
  max-width:640px;
  margin:auto;
}

h1{
  text-align:center;
  margin-bottom:12px;
}

input{
  width:100%;
  padding:14px;
  font-size:18px;
  border-radius:14px;
  border:1px solid #ccc;
  margin-bottom:14px;
}

.card{
  background:white;
  padding:16px;
  border-radius:18px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
  margin-bottom:14px;
}

.label{
  font-size:13px;
  color:#666;
  margin-bottom:6px;
}

.text{
  font-size:20px;
}

.hiragana span{
  display:inline-block;
  margin:4px;
  padding:6px 10px;
  background:#fff0f6;
  border-radius:10px;
  cursor:pointer;
  font-size:20px;
}

button,a{
  padding:12px 18px;
  border:none;
  border-radius:14px;
  font-size:16px;
  background:white;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
  cursor:pointer;
  margin:6px;
  text-decoration:none;
  color:#333;
}

button:active{
  transform:scale(0.96);
}
</style>
</head>

<body>

<a href="index.html">‚Üê Back to Menu</a>

<h1>üî§ English Reader</h1>

<input id="eng" placeholder="Type English here‚Ä¶" oninput="process()">

<div class="card">
  <div class="label">Japanese</div>
  <div class="text" id="jp">‚Äî</div>
  <button onclick="speakJP()">üîä Êó•Êú¨Ë™û</button>
</div>

<div class="card">
  <div class="label">Reading (Hiragana)</div>
  <div class="hiragana" id="hira">‚Äî</div>
</div>

<div class="card">
  <div class="label">English Pronunciation</div>
  <button onclick="speakEN()">üîä English</button>
</div>

<script>
// Ë∂Ö„Ç∑„É≥„Éó„É´Â≠ê‰æõÂêë„ÅëËæûÊõ∏ÔºàÂøÖË¶Å„Å™„Çâ„Å©„Çì„Å©„ÇìÂ¢ó„ÇÑ„Åõ„ÇãÔºâ
const dictionary = {
  "apple":"„Çä„Çì„Åî",
  "dog":"„ÅÑ„Å¨",
  "cat":"„Å≠„Åì",
  "monster":"„É¢„É≥„Çπ„Çø„Éº",
  "forest":"„ÇÇ„Çä",
  "light":"„Å≤„Åã„Çä",
  "dark":"„Åè„Çâ„ÇÑ„Åø",
  "hero":"„Åà„ÅÑ„ÇÜ„ÅÜ",
  "child":"„Åì„Å©„ÇÇ"
};

// „Å≤„Çâ„Åå„Å™Â§âÊèõÔºàÊúÄ‰ΩéÈôê„ÉªÂ≠¶ÁøíÁî®Ôºâ
function toHiragana(jp){
  const map = {
    "„Çä":"„Çä","„Çì":"„Çì","„Åî":"„Åî",
    "„ÅÑ":"„ÅÑ","„Å¨":"„Å¨",
    "„Å≠":"„Å≠","„Åì":"„Åì",
    "„ÇÇ":"„ÇÇ","„Çä":"„Çä",
    "„Å≤":"„Å≤","„Åã":"„Åã","„Çä":"„Çä",
    "„Åè":"„Åè","„Çâ":"„Çâ","„ÇÑ":"„ÇÑ","„Åø":"„Åø",
    "„Åà":"„Åà","„ÅÑ":"„ÅÑ","„ÇÜ":"„ÇÜ","„ÅÜ":"„ÅÜ",
    "„Åì":"„Åì","„Å©":"„Å©","„ÇÇ":"„ÇÇ"
  };
  return jp.split("").map(c=>map[c]||c).join("");
}

function process(){
  const eng = document.getElementById("eng").value.toLowerCase().trim();
  if(!eng){
    document.getElementById("jp").innerText="‚Äî";
    document.getElementById("hira").innerHTML="‚Äî";
    return;
  }

  const jp = dictionary[eng] || "ÔºàÊó•Êú¨Ë™û„ÅÆÊÑèÂë≥Ôºâ";
  document.getElementById("jp").innerText = jp;

  const hira = toHiragana(jp);
  const container = document.getElementById("hira");
  container.innerHTML = "";

  hira.split("").forEach(ch=>{
    const span = document.createElement("span");
    span.innerText = ch;
    span.onclick = ()=> speakHira(ch);
    container.appendChild(span);
  });
}

function speakEN(){
  const t = document.getElementById("eng").value;
  if(!t) return;
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(t);
  u.lang="en-US";
  u.rate=0.6;
  u.pitch=1.2;
  speechSynthesis.speak(u);
}

function speakJP(){
  const t = document.getElementById("jp").innerText;
  if(!t || t==="‚Äî") return;
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(t);
  u.lang="ja-JP";
  u.rate=0.6;
  speechSynthesis.speak(u);
}

function speakHira(ch){
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(ch);
  u.lang="ja-JP";
  u.rate=0.5;
  speechSynthesis.speak(u);
}
</script>

</body>
</html>
