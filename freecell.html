<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Easy FreeCell</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:system-ui,sans-serif;
  background:#eaf6ff;
  text-align:center;
  padding:12px;
}

a.back{
  display:inline-block;
  margin-bottom:10px;
  padding:8px 14px;
  background:white;
  border-radius:12px;
  text-decoration:none;
  color:#333;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
}

h1{ margin:6px 0 10px 0; }

.top{
  display:flex;
  justify-content:space-between;
  gap:8px;
  max-width:700px;
  margin:0 auto 12px auto;
}

.area{
  display:flex;
  gap:8px;
}

.cell{
  width:70px;
  height:90px;
  border-radius:12px;
  background:#ffffffaa;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
}

.tableau{
  display:grid;
  grid-template-columns:repeat(8,1fr);
  gap:8px;
  max-width:700px;
  margin:auto;
}

.column{
  background:#ffffff88;
  border-radius:12px;
  padding:6px;
  min-height:120px;
}

.card{
  width:60px;
  height:80px;
  border-radius:10px;
  background:white;
  margin:4px auto;
  font-size:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 3px 8px rgba(0,0,0,0.25);
  cursor:pointer;
}

.red{ color:#d33; }
.black{ color:#222; }

.selected{
  outline:3px solid #4aa3ff;
}
</style>
</head>

<body>

<a href="index.html" class="back">‚Üê Play Menu</a>
<h1>üÉè Easy FreeCell</h1>

<div class="top">
  <div class="area" id="freecells"></div>
  <div class="area" id="goals"></div>
</div>

<div class="tableau" id="tableau"></div>

<script>
const suits = ["‚ô†","‚ô•","‚ô¶","‚ô£"];
const colors = { "‚ô†":"black", "‚ô£":"black", "‚ô•":"red", "‚ô¶":"red" };

let deck = [];
let selectedCard = null;

function createDeck(){
  deck = [];
  for(let s of suits){
    for(let n=1;n<=13;n++){
      deck.push({num:n, suit:s});
    }
  }
  deck.sort(()=>Math.random()-0.5);
}

function cardText(c){
  const map={1:"A",11:"J",12:"Q",13:"K"};
  return (map[c.num]||c.num)+c.suit;
}

function setup(){
  createDeck();

  const freecells=document.getElementById("freecells");
  const goals=document.getElementById("goals");
  const tableau=document.getElementById("tableau");

  freecells.innerHTML="";
  goals.innerHTML="";
  tableau.innerHTML="";

  for(let i=0;i<4;i++){
    freecells.appendChild(makeCell("free"));
    goals.appendChild(makeCell("goal"));
  }

  for(let i=0;i<8;i++){
    const col=document.createElement("div");
    col.className="column";
    col.onclick=()=>moveToColumn(col);
    tableau.appendChild(col);
  }

  deck.forEach((c,i)=>{
    const card=makeCard(c);
    tableau.children[i%8].appendChild(card);
  });
}

function makeCell(type){
  const d=document.createElement("div");
  d.className="cell";
  d.dataset.type=type;
  d.onclick=()=>moveToCell(d);
  return d;
}

function makeCard(c){
  const d=document.createElement("div");
  d.className=`card ${colors[c.suit]}`;
  d.textContent=cardText(c);
  d.dataset.num=c.num;
  d.dataset.suit=c.suit;
  d.onclick=(e)=>{
    e.stopPropagation();
    selectCard(d);
  };
  return d;
}

function selectCard(card){
  if(selectedCard) selectedCard.classList.remove("selected");
  selectedCard=card;
  card.classList.add("selected");
}

function canStack(src,dst){
  if(!dst) return true;
  return colors[src.dataset.suit]!==colors[dst.dataset.suit]
    && parseInt(src.dataset.num)+1===parseInt(dst.dataset.num);
}

function moveToColumn(col){
  if(!selectedCard) return;
  const last=col.lastElementChild;
  if(canStack(selectedCard,last)){
    col.appendChild(selectedCard);
    selectedCard.classList.remove("selected");
    selectedCard=null;
  }
}

function moveToCell(cell){
  if(!selectedCard) return;

  if(cell.dataset.type==="free"){
    if(cell.children.length===0){
      cell.appendChild(selectedCard);
      selectedCard.classList.remove("selected");
      selectedCard=null;
    }
  }

  if(cell.dataset.type==="goal"){
    if(cell.children.length===0 && selectedCard.dataset.num==="1"){
      cell.appendChild(selectedCard);
      selectedCard.classList.remove("selected");
      selectedCard=null;
    }else if(cell.children.length>0){
      const top=cell.lastElementChild;
      if(
        top.dataset.suit===selectedCard.dataset.suit &&
        parseInt(top.dataset.num)+1===parseInt(selectedCard.dataset.num)
      ){
        cell.appendChild(selectedCard);
        selectedCard.classList.remove("selected");
        selectedCard=null;
      }
    }
  }
}

setup();
</script>

</body>
</html>
