<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Story 8 â€“ The Hidden Path</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:system-ui,sans-serif;
  padding:20px;
  padding-bottom:160px;
  background:linear-gradient(180deg,#fff6fb,#f0fbff);
  max-width:620px;
  margin:auto;
}

h1{text-align:center;margin-bottom:6px;}
.sub{text-align:center;font-size:14px;color:#666;margin-bottom:20px;}

.story{
  background:white;
  padding:18px;
  border-radius:18px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
  font-size:18px;
  line-height:1.8;
}

.word{
  cursor:pointer;
  border-radius:6px;
}
.word:active{
  background:#ffe4f1;
}

/* ===== Dictionary ===== */
.card{
  margin-top:20px;
  background:#ffffff;
  padding:16px;
  border-radius:18px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
}

.label{font-size:13px;color:#666;margin-top:10px;}
.text,.hiragana{font-size:18px;margin-top:4px;}
.hiragana{cursor:pointer;}

input{
  width:100%;
  padding:10px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #ccc;
  margin-top:6px;
}

.controls{
  text-align:center;
  margin-top:20px;
}

button,a{
  display:inline-block;
  margin:6px;
  padding:12px 18px;
  border:none;
  border-radius:14px;
  font-size:16px;
  background:white;
  text-decoration:none;
  color:#333;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}
</style>
</head>

<body>

<a href="index.html">â† Back to Menu</a>

<h1>ğŸ“– Story 8</h1>
<div class="sub">The Hidden Path</div>

<div class="story" id="story">
The child followed the guardian deep into the mountains.
Cold wind brushed against their faces as clouds moved slowly.
Suddenly, the guardian stopped and pointed to the ground.
A narrow path appeared where there was nothing before.
The path glowed softly, as if it was alive.
This road shows itself only to brave hearts, the guardian said.
The child felt fear, but also strong determination.
Step by step, the child walked onto the hidden path.
The world around them slowly began to change.
A new destiny was waiting ahead.
</div>

<div class="controls">
  <button onclick="readAll()">ğŸ”Š Read All</button>
  <a href="story7.html">â† Previous Story</a>
  <a href="story9.html">Next Story â†’</a>
</div>

<div class="card">
  <div class="label">ğŸ”¤ Word Checker</div>
  <input id="miniEng" placeholder="Tap a word or typeâ€¦" oninput="miniProcess()">

  <div class="label">Japanese</div>
  <div class="text" id="miniJP">â€”</div>

  <div class="label">Reading (Hiragana)</div>
  <div class="hiragana" id="miniHira" onclick="speakJP(miniHira.innerText)">â€”</div>

  <button onclick="speakEN()">ğŸ”Š English</button>
  <button onclick="speakJP(miniJP.innerText)">ğŸ”Š æ—¥æœ¬èª</button>
</div>

<script>
/* ===== Dictionary (Story8 å…¨å˜èªå¯¾å¿œ) ===== */
const dict={
the:{jp:"ãã®",hira:"ãã®"},
child:{jp:"å­ã©ã‚‚",hira:"ã“ã©ã‚‚"},
followed:{jp:"ã¤ã„ã¦è¡Œã£ãŸ",hira:"ã¤ã„ã¦ã„ã£ãŸ"},
guardian:{jp:"å®ˆè­·è€…",hira:"ã—ã‚…ã”ã—ã‚ƒ"},
deep:{jp:"æ·±ã",hira:"ãµã‹ã"},
into:{jp:"ã€œã®ä¸­ã¸",hira:"ãªã‹ã¸"},
mountains:{jp:"å±±ã€…",hira:"ã‚„ã¾ã‚„ã¾"},
cold:{jp:"å†·ãŸã„",hira:"ã¤ã‚ãŸã„"},
wind:{jp:"é¢¨",hira:"ã‹ãœ"},
brushed:{jp:"ã‹ã™ã‚ãŸ",hira:"ã‹ã™ã‚ãŸ"},
against:{jp:"ã€œã«å¯¾ã—ã¦",hira:"ã«ãŸã„ã—ã¦"},
their:{jp:"å½¼ã‚‰ã®",hira:"ã‹ã‚Œã‚‰ã®"},
faces:{jp:"é¡”",hira:"ã‹ãŠ"},
as:{jp:"ã€œã—ãªãŒã‚‰",hira:"ã—ãªãŒã‚‰"},
clouds:{jp:"é›²",hira:"ãã‚‚"},
moved:{jp:"å‹•ã„ãŸ",hira:"ã†ã”ã„ãŸ"},
slowly:{jp:"ã‚†ã£ãã‚Š",hira:"ã‚†ã£ãã‚Š"},
suddenly:{jp:"çªç„¶",hira:"ã¨ã¤ãœã‚“"},
stopped:{jp:"æ­¢ã¾ã£ãŸ",hira:"ã¨ã¾ã£ãŸ"},
and:{jp:"ãã—ã¦",hira:"ãã—ã¦"},
pointed:{jp:"æŒ‡ã•ã—ãŸ",hira:"ã‚†ã³ã•ã—ãŸ"},
to:{jp:"ã€œã¸",hira:"ã¸"},
ground:{jp:"åœ°é¢",hira:"ã˜ã‚ã‚“"},
a:{jp:"ä¸€ã¤ã®",hira:"ã²ã¨ã¤ã®"},
narrow:{jp:"ç‹­ã„",hira:"ã›ã¾ã„"},
path:{jp:"é“",hira:"ã¿ã¡"},
appeared:{jp:"ç¾ã‚ŒãŸ",hira:"ã‚ã‚‰ã‚ã‚ŒãŸ"},
where:{jp:"ã€œã®å ´æ‰€ã«",hira:"ã°ã—ã‚‡ã«"},
there:{jp:"ãã“ã«",hira:"ãã“ã«"},
was:{jp:"ã€œã ã£ãŸ",hira:"ã ã£ãŸ"},
nothing:{jp:"ä½•ã‚‚ãªã„",hira:"ãªã«ã‚‚ãªã„"},
before:{jp:"ä»¥å‰ã¯",hira:"ã„ãœã‚“ã¯"},
glowed:{jp:"å…‰ã£ãŸ",hira:"ã²ã‹ã£ãŸ"},
softly:{jp:"ã‚„ã•ã—ã",hira:"ã‚„ã•ã—ã"},
if:{jp:"ã‚‚ã—ã€œãªã‚‰",hira:"ã‚‚ã—ãªã‚‰"},
it:{jp:"ãã‚Œã¯",hira:"ãã‚Œã¯"},
alive:{jp:"ç”Ÿãã¦ã„ã‚‹",hira:"ã„ãã¦ã„ã‚‹"},
this:{jp:"ã“ã®",hira:"ã“ã®"},
road:{jp:"é“",hira:"ã¿ã¡"},
shows:{jp:"ç¤ºã™",hira:"ã—ã‚ã™"},
itself:{jp:"è‡ªã‚‰",hira:"ã¿ãšã‹ã‚‰"},
only:{jp:"ã ã‘",hira:"ã ã‘"},
brave:{jp:"å‹‡æ•¢ãª",hira:"ã‚†ã†ã‹ã‚“ãª"},
hearts:{jp:"å¿ƒ",hira:"ã“ã“ã‚"},
said:{jp:"è¨€ã£ãŸ",hira:"ã„ã£ãŸ"},
felt:{jp:"æ„Ÿã˜ãŸ",hira:"ã‹ã‚“ã˜ãŸ"},
fear:{jp:"æã‚Œ",hira:"ãŠãã‚Œ"},
but:{jp:"ã—ã‹ã—",hira:"ã—ã‹ã—"},
also:{jp:"ã€œã‚‚ã¾ãŸ",hira:"ã‚‚ã¾ãŸ"},
strong:{jp:"å¼·ã„",hira:"ã¤ã‚ˆã„"},
determination:{jp:"æ±ºæ„",hira:"ã‘ã¤ã„"},
step:{jp:"ä¸€æ­©",hira:"ã„ã£ã½"},
by:{jp:"ã€œã”ã¨ã«",hira:"ã”ã¨ã«"},
walked:{jp:"æ­©ã„ãŸ",hira:"ã‚ã‚‹ã„ãŸ"},
onto:{jp:"ã€œã®ä¸Šã¸",hira:"ã†ãˆã¸"},
hidden:{jp:"éš ã•ã‚ŒãŸ",hira:"ã‹ãã•ã‚ŒãŸ"},
world:{jp:"ä¸–ç•Œ",hira:"ã›ã‹ã„"},
around:{jp:"å‘¨ã‚Šã®",hira:"ã¾ã‚ã‚Šã®"},
them:{jp:"å½¼ã‚‰ã‚’",hira:"ã‹ã‚Œã‚‰ã‚’"},
began:{jp:"å§‹ã¾ã£ãŸ",hira:"ã¯ã˜ã¾ã£ãŸ"},
change:{jp:"å¤‰ã‚ã‚‹",hira:"ã‹ã‚ã‚‹"},
new:{jp:"æ–°ã—ã„",hira:"ã‚ãŸã‚‰ã—ã„"},
destiny:{jp:"é‹å‘½",hira:"ã†ã‚“ã‚ã„"},
waiting:{jp:"å¾…ã£ã¦ã„ã‚‹",hira:"ã¾ã£ã¦ã„ã‚‹"},
ahead:{jp:"å‰ã«",hira:"ã¾ãˆã«"}
};

/* ===== Word Tap ===== */
const storyEl=document.getElementById("story");
const originalText=storyEl.innerText;

storyEl.innerHTML=originalText.split(/(\s+)/).map(w=>{
  if(/\s+/.test(w)) return w;
  const clean=w.toLowerCase().replace(/[^a-z]/g,"");
  return `<span class="word" onclick="selectWord('${clean}')">${w}</span>`;
}).join("");

function selectWord(w){
  miniEng.value=w;
  miniProcess();
  speakEN();
}

/* ===== Dictionary ===== */
function miniProcess(){
  const w=miniEng.value.toLowerCase().trim();
  if(dict[w]){
    miniJP.innerText=dict[w].jp;
    miniHira.innerText=dict[w].hira;
  }else{
    miniJP.innerText="â€”";
    miniHira.innerText="â€”";
  }
}

/* ===== Speech ===== */
function gentleEN(text){
  const u=new SpeechSynthesisUtterance(text);
  u.lang="en-US";
  u.rate=0.5;
  u.pitch=1.3;
  const v=speechSynthesis.getVoices().find(v=>v.lang.startsWith("en")&&v.name.includes("Female"));
  if(v) u.voice=v;
  return u;
}

function speakEN(){
  if(!miniEng.value) return;
  speechSynthesis.cancel();
  speechSynthesis.speak(gentleEN(miniEng.value));
}

function speakJP(t){
  if(t==="â€”") return;
  const u=new SpeechSynthesisUtterance(t);
  u.lang="ja-JP";
  u.rate=0.5;
  u.pitch=1.2;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

function readAll(){
  speechSynthesis.cancel();
  speechSynthesis.speak(gentleEN(originalText));
}
</script>

</body>
</html>
