<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Story 1 â€“ The Little Demon Hunter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:system-ui,sans-serif;
  padding:20px;
  padding-bottom:140px;
  background:linear-gradient(180deg,#fff6fb,#f0fbff);
  max-width:620px;
  margin:auto;
}

h1{text-align:center;margin-bottom:6px;}
.sub{text-align:center;font-size:14px;color:#666;margin-bottom:20px;}

.story{
  background:white;
  padding:18px;
  border-radius:18px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
  font-size:18px;
  line-height:1.7;
}

.sentence{margin-bottom:10px;cursor:pointer;}
.sentence:active{background:#fff0f6;border-radius:8px;}

.card{
  margin-top:24px;
  background:white;
  padding:16px;
  border-radius:18px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
}

.label{font-size:13px;color:#666;margin-top:10px;}
.text{font-size:18px;margin-top:4px;}
.hiragana{font-size:18px;margin-top:4px;cursor:pointer;}

input{
  width:100%;
  padding:10px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #ccc;
  margin-top:6px;
}

.controls{text-align:center;margin-top:18px;}

button,a{
  display:inline-block;
  margin:6px;
  padding:12px 18px;
  border:none;
  border-radius:14px;
  font-size:16px;
  background:white;
  text-decoration:none;
  color:#333;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
  cursor:pointer;
}

button:active{transform:scale(0.96);}
</style>
</head>

<body>

<a href="index.html">â† Back to Menu</a>

<h1>ğŸ“– Story 1</h1>
<div class="sub">The Little Demon Hunter</div>

<div class="story">
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    Long ago, in a quiet village, there lived a small and kind child.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    The village was peaceful, and people felt safe every day.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    But deep inside the dark forest, something evil was waking up.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    One night, the moon glowed bright red in the sky.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    A tiny demon appeared near the village gate.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    The demon was weak, but it frightened everyone.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    The child felt scared, but did not run away.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    With a brave heart and shaking hands, the child took one step forward.
  </div>
  <div class="sentence" onclick="speak(this)" onmouseup="pickWord(event)">
    That was the moment the long journey began.
  </div>
</div>

<!-- ğŸ”¤ Mini Dictionary -->
<div class="card">
  <div class="label">ğŸ”¤ Word Checker</div>
  <input id="miniEng" placeholder="Tap a word or typeâ€¦" oninput="miniProcess()">

  <div class="label">Japanese</div>
  <div class="text" id="miniJP">â€”</div>

  <div class="label">Reading (Hiragana)</div>
  <div class="hiragana" id="miniHira" onclick="miniSpeakHira()">â€”</div>

  <button onclick="miniSpeakEN()">ğŸ”Š English</button>
  <button onclick="miniSpeakJP()">ğŸ”Š æ—¥æœ¬èª</button>
</div>

<div class="controls">
  <button onclick="readAll()">ğŸ”Š Read All</button>
  <a href="story2.html">Next Story â†’</a>
</div>

<script>
/* ===== Voice ===== */
function createVoice(text){
  const u=new SpeechSynthesisUtterance(text);
  u.lang="en-US";u.rate=0.6;u.pitch=1.4;
  return u;
}
function speak(el){
  speechSynthesis.cancel();
  speechSynthesis.speak(createVoice(el.innerText));
}
function readAll(){
  speechSynthesis.cancel();
  document.querySelectorAll(".sentence").forEach(s=>{
    speechSynthesis.speak(createVoice(s.innerText));
  });
}

/* ===== Dictionaryï¼ˆStory1 å®Œå…¨å¯¾å¿œï¼‰ ===== */
const miniDictionary={
  long:{jp:"é•·ã„",hira:"ãªãŒã„"},
  ago:{jp:"æ˜”",hira:"ã‚€ã‹ã—"},
  quiet:{jp:"é™ã‹ãª",hira:"ã—ãšã‹ãª"},
  village:{jp:"æ‘",hira:"ã‚€ã‚‰"},
  child:{jp:"å­ã©ã‚‚",hira:"ã“ã©ã‚‚"},
  peaceful:{jp:"å¹³å’Œãª",hira:"ã¸ã„ã‚ãª"},
  forest:{jp:"æ£®",hira:"ã‚‚ã‚Š"},
  evil:{jp:"æ‚ª",hira:"ã‚ã"},
  night:{jp:"å¤œ",hira:"ã‚ˆã‚‹"},
  moon:{jp:"æœˆ",hira:"ã¤ã"},
  demon:{jp:"æ‚ªé­”",hira:"ã‚ãã¾"},
  gate:{jp:"é–€",hira:"ã‚‚ã‚“"},
  scared:{jp:"ã“ã‚ã„",hira:"ã“ã‚ã„"},
  brave:{jp:"å‹‡æ•¢ãª",hira:"ã‚†ã†ã‹ã‚“ãª"},
  heart:{jp:"å¿ƒ",hira:"ã“ã“ã‚"},
  journey:{jp:"æ—…",hira:"ãŸã³"}
};

/* ===== Word Tap ===== */
function pickWord(){
  const w=window.getSelection().toString().toLowerCase().replace(/[^a-z]/g,"");
  if(!w)return;
  miniEng.value=w;
  miniProcess();
}

/* ===== Mini Reader ===== */
function miniProcess(){
  const w=miniEng.value.toLowerCase().trim();
  if(miniDictionary[w]){
    miniJP.innerText=miniDictionary[w].jp;
    miniHira.innerText=miniDictionary[w].hira;
  }else{
    miniJP.innerText="â€”";
    miniHira.innerText="â€”";
  }
}
function miniSpeakEN(){
  if(!miniEng.value)return;
  const u=new SpeechSynthesisUtterance(miniEng.value);
  u.lang="en-US";u.rate=0.6;
  speechSynthesis.speak(u);
}
function miniSpeakJP(){
  if(miniJP.innerText==="â€”")return;
  const u=new SpeechSynthesisUtterance(miniJP.innerText);
  u.lang="ja-JP";u.rate=0.6;
  speechSynthesis.speak(u);
}
function miniSpeakHira(){
  if(miniHira.innerText==="â€”")return;
  const u=new SpeechSynthesisUtterance(miniHira.innerText);
  u.lang="ja-JP";u.rate=0.5;
  speechSynthesis.speak(u);
}
</script>

</body>
</html>
